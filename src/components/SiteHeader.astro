---
const navItems = [
    { label: 'Послуги', href: '#services' },
    { label: 'Переваги', href: '#why-us' },
    { label: 'Порівняння', href: '#comparison' },
    { label: 'Відгуки', href: '#testimonials' },
    { label: 'Контакти', href: '#contact' }
];
---

<header class="sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80">
    <div class="container-main flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8">
        <a href="/" class="flex items-center gap-3 no-underline">
            <img src="/images/logo-ost.png" alt="OST" class="h-10 w-auto invert" />
        </a>

        <nav class="hidden items-center gap-1 md:flex" aria-label="Main navigation">
            {navItems.map((item) => (
                <a
                    href={item.href}
                    class="rounded-md px-3 py-2 text-sm font-medium text-card-foreground no-underline transition-colors hover:bg-muted hover:text-primary"
                >
                    {item.label}
                </a>
            ))}
        </nav>

        <div class="flex items-center gap-3">
            <a href="tel:+380442899541" class="hidden items-center gap-2 text-sm font-semibold text-primary no-underline lg:flex">
                <svg class="h-4 w-4 text-primary-light" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" /></svg>
                +38 (044) 289 95 41
            </a>
            <a href="#contact" class="btn-primary hidden sm:inline-flex">Безкоштовна консультація</a>
            <button
                id="mobile-menu-btn"
                class="flex h-10 w-10 items-center justify-center rounded-lg text-foreground transition-colors hover:bg-muted md:hidden"
                aria-label="Відкрити меню"
                aria-expanded="false"
            >
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Mobile menu -->
    <div id="mobile-menu" class="hidden border-t border-border md:hidden">
        <nav class="container-main flex flex-col gap-1 px-4 py-4" aria-label="Mobile navigation">
            {navItems.map((item) => (
                <a
                    href={item.href}
                    class="mobile-nav-link rounded-md px-3 py-2.5 text-sm font-medium text-card-foreground no-underline transition-colors hover:bg-muted hover:text-primary"
                >
                    {item.label}
                </a>
            ))}
            <a href="#contact" class="btn-primary mt-2 text-center">Безкоштовна консультація</a>
        </nav>
    </div>

    <!-- Animated gradient line -->
    <div class="gradient-line"></div>
</header>

<script>
    const btn = document.getElementById('mobile-menu-btn');
    const menu = document.getElementById('mobile-menu');
    btn?.addEventListener('click', () => {
        const isOpen = !menu?.classList.contains('hidden');
        menu?.classList.toggle('hidden');
        btn.setAttribute('aria-expanded', String(!isOpen));
    });
    document.querySelectorAll('.mobile-nav-link').forEach((link) => {
        link.addEventListener('click', () => {
            menu?.classList.add('hidden');
            btn?.setAttribute('aria-expanded', 'false');
        });
    });
</script>
